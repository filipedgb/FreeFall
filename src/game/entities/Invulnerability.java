package game.entities;

import game.engine.PlayActivity;
import game.engine.Tools;
import android.graphics.Canvas;
import android.graphics.Paint;

/**
 * Esta classe representa o item invulnerabilidade, o jogador ao apanhar este
 * item fica invulneravel, isto é, nao perde vida
 * 
 * @author André Pires, Filipe Gama
 * @see Item
 */
public class Invulnerability extends Item {

	public Invulnerability(float x, float y) {
		super(x, y);
		this.bmp = Tools.getInvulnerable();
	}

	public Invulnerability() {
		super(0, 0);
	}

	/**
	 * Esta função torna o jogador invulneravel Chama a função disabler que
	 * inicia um contador para o tempo que o item vai estar desativado depois de
	 * apanhado
	 * 
	 * @param recebe
	 *            o jogador
	 */
	@Override
	public boolean caught(Player player) {
		if (this.colide(player)) {
			if (!Tools.isMute())
				PlayActivity.getSingleInstance().playNoDamage();
			player.setInvulnerable(true);
			disabler(25);
			return true;
		}
		return false;
	}

	@Override
	public void draw(Canvas canvas, Paint paint) {
		canvas.drawBitmap(bmp, getX(), getY(), paint);
	}

	@Override
	public void caught(Player player, boolean teste) {
		if (this.colide(player)) {
			player.setInvulnerable(true);
			disabler(25);
		}
	}
}